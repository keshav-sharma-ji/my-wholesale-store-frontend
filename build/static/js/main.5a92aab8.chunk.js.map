{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signin.js","user/Signup.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/AdminDashBoard.js","user/UserDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","core/PaymentBraintree.js","core/helper/paymentBraintreeHelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","resposnce","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageUrl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cardTitle","name","cardDescription","cardPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","index","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","setError","loadAllProducts","response","json","data","error","useEffect","Signin","email","password","loading","didRedirect","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","signin","authenticate","onChange","type","display","Signup","success","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","AdminDashboard","UserDashboard","getAllCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","autoFocus","required","placeholder","successMessage","errorMessage","ManageCategories","categories","setCategories","length","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","files","set","createProduct","accept","cate","ManageProducts","preload","deleteThisProduct","preoductId","deleteProduct","UpdateProduct","match","getaProduct","preloadCategories","params","updateProduct","PaymentBraintree","clientToken","instance","info","setInfo","getToken","getMeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","p","options","authorization","onInstance","Cart","loadCart","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5a92aab8.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const signup = (user) => {\r\n\treturn fetch(`${API}/signup`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify(user),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const signin = (user) => {\r\n\treturn fetch(`${API}/signin`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify(user),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n\tif (typeof window !== \"undefined\") {\r\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(data));\r\n\t\tnext();\r\n\t}\r\n};\r\n\r\nexport const signout = (next) => {\r\n\tif (typeof window !== \"undefined\") {\r\n\t\tlocalStorage.removeItem(\"jwt\");\r\n\t\tnext();\r\n\r\n\t\treturn fetch(`${API}/signout`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t})\r\n\t\t\t.then((resposnce) => console.log(\"Signout Sucess\"))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n\tif (typeof window == \"undefined\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (localStorage.getItem(\"jwt\")) {\r\n\t\treturn JSON.parse(localStorage.getItem(\"jwt\"));\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { isAuthenticated, signout } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n\tif (history.location.pathname === path) {\r\n\t\treturn { color: \"#2ecc72\" };\r\n\t} else {\r\n\t\treturn { color: \"#FFFFFF\" };\r\n\t}\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n\t<div>\r\n\t\t<ul className=\"nav nav-tabs bg-dark\">\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n\t\t\t\t\tHome\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<Link\r\n\t\t\t\t\tstyle={currentTab(history, \"/cart\")}\r\n\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\tto=\"/cart\"\r\n\t\t\t\t>\r\n\t\t\t\t\tCart\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t{isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tstyle={currentTab(history, \"/user/dashboard\")}\r\n\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\tto=\"/user/dashboard\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tstyle={currentTab(history, \"/admin/dashboard\")}\r\n\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\tto=\"/admin/dashboard\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tA. Dashboard\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{!isAuthenticated() && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tstyle={currentTab(history, \"/signup\")}\r\n\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\tto=\"/signup\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSignup\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tstyle={currentTab(history, \"/signin\")}\r\n\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\tto=\"/signin\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSignin\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t\t{isAuthenticated() && (\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName=\"nav-link text-warning\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsignout(() => {\r\n\t\t\t\t\t\t\t\thistory.push(\"/\");\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSignout\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t</ul>\r\n\t</div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n\ttitle = \"My Title\",\r\n\tdescription = \"Description\",\r\n\tclassName = \"bg-grey text-white p-4\",\r\n\tchildren,\r\n}) => (\r\n\t<div>\r\n\t\t<Menu />\r\n\t\t<div className=\"containerfluid\">\r\n\t\t\t<div className=\"jumbotron bg-grey text-white text-center\">\r\n\t\t\t\t<h2 className=\"display-4\">{title}</h2>\r\n\t\t\t\t<p className=\"lead\">{description}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className={className}>{children}</div>\r\n\t\t</div>\r\n\t\t<footer className=\"footer bg-grey mt-auto py-3\">\r\n\t\t\t<div className=\"container-fluid bg-success text-white text-center py-3\">\r\n\t\t\t\t<h4>If you have any questions feel free to reach out</h4>\r\n\t\t\t\t<button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<span className=\"text-muted\">\r\n\t\t\t\t\tAn Amazing <span className=\"text-white\">MERN</span> Bootchamp\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t</div>\r\n);\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n\tconst imageUrl = product\r\n\t\t? `${API}/product/photo/${product._id}`\r\n\t\t: \"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\r\n\r\n\treturn (\r\n\t\t<div className=\"rounded border border-success p-2\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={imageUrl}\r\n\t\t\t\talt=\"photo\"\r\n\t\t\t\tstyle={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n\t\t\t\tclassName=\"mb-3 rounded\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\n\r\nconst Card = ({\r\n\tproduct,\r\n\taddtoCart = true,\r\n\tremoveFromCart = false,\r\n\tsetReload = (f) => f, //function(f){return f}\r\n\treload = undefined,\r\n}) => {\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [count, setCount] = useState(product.count);\r\n\r\n\tconst cardTitle = product ? product.name : \"Default name\";\r\n\tconst cardDescription = product ? product.description : \"Default description\";\r\n\tconst cardPrice = product ? product.price : \"Default price\";\r\n\r\n\tconst addToCart = () => {\r\n\t\treturn addItemToCart(product, () => setRedirect(true));\r\n\t};\r\n\r\n\tconst getARedirect = (redirect) => {\r\n\t\tif (redirect) {\r\n\t\t\treturn <Redirect to=\"/cart/\" />;\r\n\t\t}\r\n\t};\r\n\r\n\tconst showAddToCart = (addtoCart) => {\r\n\t\treturn (\r\n\t\t\taddtoCart && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={addToCart}\r\n\t\t\t\t\tclassName=\"btn col-12 btn-outline-success mt-2 mb-2\"\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd To Cart\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst showRemoveFromCart = (removeFromCart) => {\r\n\t\treturn (\r\n\t\t\tremoveFromCart && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItemFromCart(product._id);\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"btn col-12 btn-outline-danger mt-2 mb-2\"\r\n\t\t\t\t>\r\n\t\t\t\t\tRemove from cart\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"card text-white bg-dark border border-info \">\r\n\t\t\t<div className=\"card-header lead\">{cardTitle}</div>\r\n\t\t\t<div className=\"card-body\">\r\n\t\t\t\t{getARedirect(redirect)}\r\n\t\t\t\t<ImageHelper product={product} />\r\n\t\t\t\t<p className=\"lead bg-success font-weight-normal text-wrap\">\r\n\t\t\t\t\t{cardDescription}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"btn btn-success rounded  btn-sm px-4\">$ {cardPrice}</p>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n\t\t\t\t\t<div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n\tlet cart = [];\r\n\r\n\tif (typeof window !== undefined) {\r\n\t\tif (localStorage.getItem(\"cart\")) {\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"));\r\n\t\t}\r\n\r\n\t\tcart.push({\r\n\t\t\t...item,\r\n\t\t\tcount: 1,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\t\tnext();\r\n\t}\r\n};\r\n\r\nexport const loadCart = () => {\r\n\tif (typeof window !== undefined) {\r\n\t\tif (localStorage.getItem(\"cart\")) {\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\"));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n\tlet cart = [];\r\n\r\n\tif (typeof window !== undefined) {\r\n\t\tif (localStorage.getItem(\"cart\")) {\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"));\r\n\t\t}\r\n\r\n\t\tcart.map((product, index) => {\r\n\t\t\tif (product._id === productId) {\r\n\t\t\t\tcart.splice(index, 1);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\t}\r\n\r\n\treturn cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n\tif (typeof window !== undefined) {\r\n\t\tlocalStorage.removeItem(\"cart\");\r\n\t\tlet cart = [];\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\t\tnext();\r\n\t}\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { API } from \"../backend\";\r\nimport \"../styles.css\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nconst Home = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst [error, setError] = useState(false);\r\n\r\n\tconst loadAllProducts = () => {\r\n\t\treturn getProducts()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetError(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetProducts(data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"error in loading all products\"));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tloadAllProducts();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Base title=\"Home Page\" description=\"Welcome to my store\">\r\n\t\t\t<div className=\"row text-center\">\r\n\t\t\t\t<h1 className=\"text-white\">All of Items</h1>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t{products &&\r\n\t\t\t\t\t\tproducts.map((product, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={index} className=\"col-4 mb-4\">\r\n\t\t\t\t\t\t\t\t\t<Card product={product} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n\treturn fetch(`${API}/products`, {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n\tconst [values, setValues] = useState({\r\n\t\temail: \"t1@gmail.com\",\r\n\t\tpassword: \"test1\",\r\n\t\terror: \"\",\r\n\t\tloading: false,\r\n\t\tdidRedirect: false,\r\n\t});\r\n\r\n\tconst { email, password, error, loading, didRedirect } = values;\r\n\tconst { user } = isAuthenticated();\r\n\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tsetValues({ ...values, error: false, [name]: event.target.value });\r\n\t};\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetValues({ ...values, error: false, loading: true });\r\n\t\tsignin({ email, password })\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error, loading: false });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tauthenticate(data, () => {\r\n\t\t\t\t\t\tsetValues({ ...values, didRedirect: true });\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(console.log(\"Unable to signin\"));\r\n\t};\r\n\r\n\tconst performRedirect = () => {\r\n\t\tif (didRedirect) {\r\n\t\t\tif (user && user.role === 1) {\r\n\t\t\t\treturn <Redirect to=\"/admin/dashboard\" />;\r\n\t\t\t} else {\r\n\t\t\t\treturn <Redirect to=\"/user/dashboard\" />;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isAuthenticated()) {\r\n\t\t\treturn <Redirect to=\"/\"></Redirect>;\r\n\t\t}\r\n\t};\r\n\r\n\tconst signInForm = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t\t\t\t<label className=\"text-light\">Email</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange(\"email\")}\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t\t\t\t<label className=\"text-light\">Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange(\"password\")}\r\n\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\ttype=\"Password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className=\"btn btn-success btn-block\" onClick={onSubmit}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst loadingMessage = () => {\r\n\t\treturn (\r\n\t\t\tloading && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t\t\t<div className=\"alert alert-info\">\r\n\t\t\t\t\t\t\t\t<h2>Loading...</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst errorMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"alert alert-danger\"\r\n\t\t\t\t\t\tstyle={{ display: error ? \"\" : \"none\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Base title=\"Signin Page\" description=\"A page for user to signin!\">\r\n\t\t\t{signInForm()}\r\n\t\t\t{performRedirect()}\r\n\t\t\t{loadingMessage()}\r\n\t\t\t{errorMessage()}\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default Signin;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\terror: \"\",\r\n\t\tsuccess: false,\r\n\t});\r\n\r\n\tconst { name, email, password, error, success } = values;\r\n\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tsetValues({ ...values, error: false, [name]: event.target.value });\r\n\t};\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetValues({ ...values, error: false });\r\n\t\tsignup({ name, email, password })\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error, success: false });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\temail: \"\",\r\n\t\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t\t\terror: \"\",\r\n\t\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(console.log(\"Error in signup\"));\r\n\t};\r\n\r\n\tconst signUpForm = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t\t\t\t<label className=\"text-light\">Name</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange(\"name\")}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t\t\t\t<label className=\"text-light\">Email</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange(\"email\")}\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t\t\t\t<label className=\"text-light\">Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange(\"password\")}\r\n\t\t\t\t\t\t\t\ttype=\"Password\"\r\n\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst successMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"alert alert-success\"\r\n\t\t\t\t\t\tstyle={{ display: success ? \"\" : \"none\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNew Account was created successfully. Please{\" \"}\r\n\t\t\t\t\t\t<Link to=\"/signin\">Login here</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst errorMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"alert alert-danger\"\r\n\t\t\t\t\t\tstyle={{ display: error ? \"\" : \"none\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Base title=\"Signup Page\" description=\"A page for user to signup!\">\r\n\t\t\t{signUpForm()}\r\n\t\t\t{errorMessage()}\r\n\t\t\t{successMessage()}\r\n\t\t\t{/* <p className=\"text-white text-center\">{JSON.stringify(values)}</p> */}\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tisAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: \"/signin\",\r\n\t\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tisAuthenticated() ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: \"/signin\",\r\n\t\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst AdminDashboard = () => {\r\n\tconst {\r\n\t\tuser: { name, email, role },\r\n\t} = isAuthenticated();\r\n\r\n\tconst adminLeftSide = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/create/category\" className=\"nav-link text-success\">\r\n\t\t\t\t\t\t\tCreate Categories\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/categories\" className=\"nav-link text-success\">\r\n\t\t\t\t\t\t\tManage Categories\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/create/product\" className=\"nav-link text-success\">\r\n\t\t\t\t\t\t\tCreate Product\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/products\" className=\"nav-link text-success\">\r\n\t\t\t\t\t\t\tManage Products\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/orders\" className=\"nav-link text-success\">\r\n\t\t\t\t\t\t\tManage Orders\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst adminRightSide = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"card mb-4\">\r\n\t\t\t\t<h4 className=\"card-header\">Admin Information</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<span className=\"badge bg-success mr-2\">Name:</span> {name}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<span className=\"badge bg-success mr-2\">Email:</span> {email}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<span className=\"badge bg-danger\">ADMIN AREA</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Base\r\n\t\t\ttitle=\"Welcome to admin area\"\r\n\t\t\tdescription=\"Manage all of your products here\"\r\n\t\t\tclassName=\"container bg-success p-4\"\r\n\t\t>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-3\">{adminLeftSide()}</div>\r\n\t\t\t\t<div className=\"col-9\">{adminRightSide()}</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n\treturn (\r\n\t\t<Base title=\"User Dashboard Page\">\r\n\t\t\t<h1>This is User Dashboard page</h1>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default UserDashboard;\r\n","import { API } from \"../../backend\";\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, category) => {\r\n\treturn fetch(`${API}/category/create/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify(category),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n// get all categories\r\nexport const getAllCategories = () => {\r\n\treturn fetch(`${API}/categories`, {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n//product calls\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n\treturn fetch(`${API}/product/create/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: product,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n//get all products\r\n\r\nexport const getAllProducts = () => {\r\n\treturn fetch(`${API}/products`, {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n//delete a product\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\tmethod: \"DELETE\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n//get a product\r\n\r\nexport const getaProduct = (productId) => {\r\n\treturn fetch(`${API}/product/${productId}`, {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\n// update a product\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: product,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [error, setError] = useState(false);\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst goBack = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n\t\t\t\t\tAdmin Home\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetError(\"\");\r\n\t\tsetName(event.target.value);\r\n\t};\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetError(\"\");\r\n\t\tsetSuccess(false);\r\n\r\n\t\t//backend request fired\r\n\t\tcreateCategory(user._id, token, { name })\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t\tsetError(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetError(\"\");\r\n\t\t\t\t\tsetSuccess(true);\r\n\t\t\t\t\tsetName(\"\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tconsole.log(\"Unable to create category\");\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst successMessage = () => {\r\n\t\tif (success) {\r\n\t\t\treturn <h4 className=\"text-success\">Category Created successfully</h4>;\r\n\t\t}\r\n\t};\r\n\r\n\tconst errorMessage = () => {\r\n\t\tif (error) {\r\n\t\t\treturn <h4 className=\"text-warning\">Failed to create category</h4>;\r\n\t\t}\r\n\t};\r\n\r\n\tconst myCategoryForm = () => {\r\n\t\treturn (\r\n\t\t\t<form>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<p className=\"lead\">Enter the category</p>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control my-3\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder=\"Summer\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n\t\t\t\t\t\tCreate Category\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Base\r\n\t\t\ttitle=\"Create a Category Here\"\r\n\t\t\tdescription=\"Add a new category of your items\"\r\n\t\t\tclassName=\"container bg-info p-4\"\r\n\t\t>\r\n\t\t\t<div className=\"row bg-white rounded\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t{myCategoryForm()}\r\n\t\t\t\t\t{successMessage()}\r\n\t\t\t\t\t{errorMessage()}\r\n\t\t\t\t\t{goBack()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { getAllCategories } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n\tconst [categories, setCategories] = useState([]);\r\n\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst preload = () => {\r\n\t\tgetAllCategories()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetCategories(data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"unable to preload\"));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpreload();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Base title=\"Welcome admin\" description=\"Manage categories here\">\r\n\t\t\t<h2 className=\"mb-4\">All categories:</h2>\r\n\t\t\t<Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n\t\t\t\t<span className=\"\">Admin Home</span>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<h2 className=\"text-center text-white my-3\">\r\n\t\t\t\t\t\tTotal {categories.length} products\r\n\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t{categories &&\r\n\t\t\t\t\t\tcategories.map((category, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={index} className=\"row text-center mb-2 \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-white text-left\">{category.name}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/update/productId`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"\">Update</span>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => {}} className=\"btn btn-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport Base from \"../core/Base\";\r\nimport { createProduct, getAllCategories } from \"./helper/adminapicall\";\r\n\r\nconst AddProduct = () => {\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tstock: \"\",\r\n\t\tphoto: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tgetaRedirect: false,\r\n\t\tformData: \"\",\r\n\t});\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tstock,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tgetaRedirect,\r\n\t\tformData,\r\n\t} = values;\r\n\r\n\tconst preload = () => {\r\n\t\tgetAllCategories()\r\n\t\t\t.then((data) => {\r\n\t\t\t\t// console.log(data);\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({ ...values, categories: data, formData: new FormData() });\r\n\t\t\t\t\t// console.log(categories);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"Error in preload\"));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpreload();\r\n\t}, []);\r\n\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tconst value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n\t\tformData.set(name, value);\r\n\t\tsetValues({ ...values, [name]: value });\r\n\t};\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetValues({ ...values, error: \"\", loading: true });\r\n\t\tcreateProduct(user._id, token, formData)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tstock: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tcreatedProduct: data.name,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"Unable to submit\"));\r\n\t};\r\n\r\n\tconst successMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"alert alert-success mt-3\"\r\n\t\t\t\tstyle={{ display: createdProduct ? \"\" : \"none\" }}\r\n\t\t\t>\r\n\t\t\t\t<h4>{createdProduct} created successfully</h4>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst createProductForm = () => (\r\n\t\t<form>\r\n\t\t\t<span>Post photo</span>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<label className=\"btn btn-block btn-success\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonChange={handleChange(\"photo\")}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\taccept=\"image\"\r\n\t\t\t\t\t\tplaceholder=\"choose a file\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"name\")}\r\n\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={handleChange(\"description\")}\r\n\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\tvalue={description}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"price\")}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Price\"\r\n\t\t\t\t\tvalue={price}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={handleChange(\"category\")}\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Category\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<option>Select</option>\r\n\t\t\t\t\t{categories &&\r\n\t\t\t\t\t\tcategories.map((cate, index) => (\r\n\t\t\t\t\t\t\t<option key={index} value={cate._id}>\r\n\t\t\t\t\t\t\t\t{cate.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"stock\")}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Quantity\"\r\n\t\t\t\t\tvalue={stock}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tonClick={onSubmit}\r\n\t\t\t\tclassName=\"btn btn-outline-success mt-3 mb-3 py-2\"\r\n\t\t\t>\r\n\t\t\t\tCreate Product\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Base\r\n\t\t\ttitle=\"Add a Product here!\"\r\n\t\t\tdescription=\"welcome to product creation section\"\r\n\t\t\tclassName=\"container bg-info p-4\"\r\n\t\t>\r\n\t\t\t<Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n\t\t\t\tAdmin Home\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"row bg-dark text-white rounded\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t{createProductForm()}\r\n\t\t\t\t\t{successMessage()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { deleteProduct, getAllProducts } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst preload = () => {\r\n\t\tgetAllProducts()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetProducts(data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"unable to preload\"));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpreload();\r\n\t}, []);\r\n\r\n\tconst deleteThisProduct = (preoductId) => {\r\n\t\tdeleteProduct(preoductId, user._id, token)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpreload();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"unable to delete\"));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Base title=\"Welcome admin\" description=\"Manage products here\">\r\n\t\t\t<Link className=\"btn btn-info mb-3\" to={`/admin/dashboard`}>\r\n\t\t\t\t<span className=\"\">Admin Home</span>\r\n\t\t\t</Link>\r\n\t\t\t<h2 className=\"mb-4\">All products:</h2>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<h2 className=\"text-center text-white my-3\">\r\n\t\t\t\t\t\tTotal {products.length} products\r\n\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t{products &&\r\n\t\t\t\t\t\tproducts.map((product, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={index} className=\"row text-center mb-2 \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-white text-left\">{product.name}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/update/${product._id}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"\">Update</span>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t//here we have used callback in onclick becuse deleteThisProduct requires parameter\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteThisProduct(product._id);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport Base from \"../core/Base\";\r\nimport {\r\n\tgetaProduct,\r\n\tupdateProduct,\r\n\tgetAllCategories,\r\n} from \"./helper/adminapicall\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tstock: \"\",\r\n\t\tphoto: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tgetaRedirect: false,\r\n\t\tformData: \"\",\r\n\t});\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tstock,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tgetaRedirect,\r\n\t\tformData,\r\n\t} = values;\r\n\r\n\tconst preload = (productId) => {\r\n\t\tgetaProduct(productId)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpreloadCategories();\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\tdescription: data.description,\r\n\t\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\t\tcategory: data.category,\r\n\t\t\t\t\t\tstock: data.stock,\r\n\t\t\t\t\t\tformData: new FormData(),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"Error in preload\"));\r\n\t};\r\n\r\n\tconst preloadCategories = () => {\r\n\t\tgetAllCategories()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\tcategories: data,\r\n\t\t\t\t\t\tformData: new FormData(),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"Error in preloadcategories\"));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpreload(match.params.productId);\r\n\t}, []);\r\n\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tconst value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n\t\tformData.set(name, value);\r\n\t\tsetValues({ ...values, [name]: value });\r\n\t};\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetValues({ ...values, error: \"\", loading: true });\r\n\r\n\t\tupdateProduct(match.params.productId, user._id, token, formData)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tstock: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tcreatedProduct: data.name,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"Unable to submit\"));\r\n\t};\r\n\r\n\tconst successMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"alert alert-success mt-3\"\r\n\t\t\t\tstyle={{ display: createdProduct ? \"\" : \"none\" }}\r\n\t\t\t>\r\n\t\t\t\t<h4>{createdProduct} Updated successfully</h4>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst createProductForm = () => (\r\n\t\t<form>\r\n\t\t\t<span>Post photo</span>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<label className=\"btn btn-block btn-success\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonChange={handleChange(\"photo\")}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\t\taccept=\"image\"\r\n\t\t\t\t\t\tplaceholder=\"choose a file\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"name\")}\r\n\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={handleChange(\"description\")}\r\n\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\tvalue={description}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"price\")}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Price\"\r\n\t\t\t\t\tvalue={price}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={handleChange(\"category\")}\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Category\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<option>Select</option>\r\n\t\t\t\t\t{categories &&\r\n\t\t\t\t\t\tcategories.map((cate, index) => (\r\n\t\t\t\t\t\t\t<option key={index} value={cate._id}>\r\n\t\t\t\t\t\t\t\t{cate.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group py-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={handleChange(\"stock\")}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tplaceholder=\"Quantity\"\r\n\t\t\t\t\tvalue={stock}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tonClick={onSubmit}\r\n\t\t\t\tclassName=\"btn btn-outline-success mt-3 mb-3 py-2\"\r\n\t\t\t>\r\n\t\t\t\tUpdate Product\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Base\r\n\t\t\ttitle=\"Add a Product here!\"\r\n\t\t\tdescription=\"welcome to product creation section\"\r\n\t\t\tclassName=\"container bg-info p-4\"\r\n\t\t>\r\n\t\t\t<Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n\t\t\t\tAdmin Home\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"row bg-dark text-white rounded\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t{createProductForm()}\r\n\t\t\t\t\t{successMessage()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import DropIn from \"braintree-web-drop-in-react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { cartEmpty, loadCart } from \"./helper/cartHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { getMeToken, processPayment } from \"./helper/paymentBraintreeHelper\";\r\n\r\nconst PaymentBraintree = ({\r\n\tproducts,\r\n\tsetReload = (f) => f,\r\n\treload = undefined,\r\n}) => {\r\n\tconst [info, setInfo] = useState({\r\n\t\tloading: false,\r\n\t\tsuccess: false,\r\n\t\tclientToken: null,\r\n\t\terror: \"\",\r\n\t\tinstance: {},\r\n\t});\r\n\r\n\tconst userId = isAuthenticated() && isAuthenticated().user._id;\r\n\tconst token = isAuthenticated() && isAuthenticated().token;\r\n\r\n\tconst getToken = (userId, token) => {\r\n\t\tgetMeToken(userId, token)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(\"INFORMATION\", response);\r\n\t\t\t\tif (response.error) {\r\n\t\t\t\t\tsetInfo({ ...info, error: response.error });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst clientToken = response.clientToken;\r\n\t\t\t\t\tsetInfo({ clientToken });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"error in getting token\"));\r\n\t};\r\n\r\n\tconst onPurchase = () => {\r\n\t\tsetInfo({ loading: true });\r\n\t\tlet nonce;\r\n\t\tlet getNonce = info.instance\r\n\t\t\t.requestPaymentMethod()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tnonce = data.nonce;\r\n\t\t\t\tconst paymentData = {\r\n\t\t\t\t\tpaymentMethodNonce: nonce,\r\n\t\t\t\t\tamount: getAmount(),\r\n\t\t\t\t};\r\n\t\t\t\tprocessPayment(userId, token, paymentData)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tsetInfo({ ...info, success: response.success, loading: false });\r\n\t\t\t\t\t\tconsole.log(\"PAYMENT SUCCESS\");\r\n\t\t\t\t\t\tconst orderData = {\r\n\t\t\t\t\t\t\tproducts: products,\r\n\t\t\t\t\t\t\ttransaction_id: response.transaction.id,\r\n\t\t\t\t\t\t\tamount: response.transaction.amount,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tcreateOrder(userId, token, orderData)\r\n\t\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\t\tif (response.error) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(response.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(() => console.log(\"error in creating order\"));\r\n\r\n\t\t\t\t\t\tcartEmpty(() => {\r\n\t\t\t\t\t\t\tconsole.log(\"Cart empty\");\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetInfo({ loading: false, success: false });\r\n\t\t\t\t\t\tconsole.log(\"PAYMENT FAILED\");\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log(\"error in requesting payment method\"));\r\n\t};\r\n\r\n\tconst getAmount = () => {\r\n\t\tlet amount = 0;\r\n\t\tproducts &&\r\n\t\t\tproducts.map((p) => {\r\n\t\t\t\tamount = amount + p.price;\r\n\t\t\t});\r\n\t\treturn amount;\r\n\t};\r\n\r\n\tconst showBTDropIn = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{info.clientToken !== null ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<DropIn\r\n\t\t\t\t\t\t\toptions={{ authorization: info.clientToken }}\r\n\t\t\t\t\t\t\tonInstance={(instance) => (info.instance = instance)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className=\"btn btn-success col-12\" onClick={onPurchase}>\r\n\t\t\t\t\t\t\tBuy\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Please login</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetToken(userId, token);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Your bill is $ {getAmount()}</h3>\r\n\t\t\t{showBTDropIn()}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PaymentBraintree;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getMeToken = (userId, token) => {\r\n\treturn fetch(`${API}/payment/gettoken/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n\treturn fetch(`${API}/payment/braintree/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify(paymentInfo),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n\treturn fetch(`${API}/order/create/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify({ order: orderData }),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { API } from \"../backend\";\r\nimport \"../styles.css\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport PaymentBraintree from \"./PaymentBraintree\";\r\n\r\nconst Cart = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst [reload, setReload] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetProducts(loadCart());\r\n\t}, [reload]);\r\n\r\n\tconst loadAllProducts = (products) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"text-center\">\r\n\t\t\t\t<h2>This section is to load products</h2>\r\n\t\t\t\t{products &&\r\n\t\t\t\t\tproducts.map((product, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tproduct={product}\r\n\t\t\t\t\t\t\t\taddtoCart={false}\r\n\t\t\t\t\t\t\t\tremoveFromCart={true}\r\n\t\t\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\t// const loadCheckout = () => {\r\n\t// \treturn (\r\n\t// \t\t<div>\r\n\t// \t\t\t<h2>This section is to checkout</h2>\r\n\t// \t\t</div>\r\n\t// \t);\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t{products && products.length > 0 ? (\r\n\t\t\t\t\t\tloadAllProducts(products)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3>No product in cart</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t<PaymentBraintree products={products} setReload={setReload} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Base>\r\n\t);\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signin from \"./user/Signin\";\r\nimport Signup from \"./user/Signup\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport AdminDashboard from \"./user/AdminDashBoard\";\r\nimport UserDashboard from \"./user/UserDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/\" exact component={Home} />\r\n\t\t\t\t<Route path=\"/signup\" exact component={Signup} />\r\n\t\t\t\t<Route path=\"/signin\" exact component={Signin} />\r\n\t\t\t\t<Route path=\"/cart\" exact component={Cart} />\r\n\t\t\t\t<PrivateRoute path=\"/user/dashboard\" exact component={UserDashboard} />\r\n\t\t\t\t<AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n\t\t\t\t<AdminRoute\r\n\t\t\t\t\tpath=\"/admin/create/category\"\r\n\t\t\t\t\texact\r\n\t\t\t\t\tcomponent={AddCategory}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdminRoute\r\n\t\t\t\t\tpath=\"/admin/categories\"\r\n\t\t\t\t\texact\r\n\t\t\t\t\tcomponent={ManageCategories}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n\t\t\t\t<AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n\t\t\t\t<AdminRoute\r\n\t\t\t\t\tpath=\"/admin/product/update/:productId\"\r\n\t\t\t\t\texact\r\n\t\t\t\t\tcomponent={UpdateProduct}\r\n\t\t\t\t/>\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}